<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:chat="clr-namespace:AvaloniaControls.Controls.Chat">
  <Design.PreviewWith>
    <Border Height="100"
            Width="500"
            Padding="5">
      <chat:ChatCard  Title="John Doe"
                          Foreground="Black"
                          Time="09:45"
                          Message="Hey, what's up 😊">
        <chat:ChatCard.UserIcon>
          <Image Source="/Assets/Chat/user.png"></Image>
        </chat:ChatCard.UserIcon>
      </chat:ChatCard>
    </Border>
  </Design.PreviewWith>

  <!-- Message TextBox -->
  <SolidColorBrush x:Key="MessageColor">#bdbdbd</SolidColorBrush>
  <Thickness x:Key="UserIconContentRightMargin">0, 0, 10, 0</Thickness>
  <x:Double x:Key="TitleFontSize">20</x:Double>
  <x:Double x:Key="TextFontSize">16</x:Double>
  <x:Double x:Key="MessageSpacing">5</x:Double>

  <ControlTheme x:Key="{x:Type chat:ChatCard}" TargetType="chat:ChatCard">
    <Setter Property="Padding" Value="15"/>
    <Setter Property="VerticalAlignment" Value="Stretch"/>
    <Setter Property="HorizontalAlignment" Value="Stretch"/>
    <Setter Property="Template">
      <ControlTemplate>
           <Grid ColumnDefinitions="Auto, *"
                 VerticalAlignment="{TemplateBinding VerticalAlignment}"
                 HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                 Margin="{TemplateBinding Padding}">
           <ContentPresenter x:Name="UserIconContent"
                             Grid.Column="0"
                             Content="{TemplateBinding UserIcon}"
                             Margin="{DynamicResource UserIconContentRightMargin}"
                             Padding="0"
                             HorizontalContentAlignment="Stretch"
                             VerticalContentAlignment="Stretch">
           </ContentPresenter>
           <StackPanel Grid.Column="1" 
                       Orientation="Vertical"
                       HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                       VerticalAlignment="{TemplateBinding VerticalAlignment}"
                       Spacing="{DynamicResource MessageSpacing}">
             <Grid x:Name="HeaderGrid"
                   ColumnDefinitions="*, Auto"
                   VerticalAlignment="{TemplateBinding VerticalAlignment}"
                   HorizontalAlignment="{TemplateBinding HorizontalAlignment}">
               <TextBlock Grid.Column="0"
                          HorizontalAlignment="Left"
                          Text="{TemplateBinding Title}"
                          FontFamily="{TemplateBinding FontFamily}"
                          FontWeight="SemiBold"
                          FontSize="{DynamicResource TitleFontSize}">
               </TextBlock>
               <TextBlock Grid.Column="1"
                          HorizontalAlignment="Right"
                          FontSize="{DynamicResource TextFontSize}"
                          Text="{TemplateBinding Time}">
               </TextBlock>
             </Grid>
             <Grid x:Name="PART_Message"
                    ColumnDefinitions="*, Auto">
               <TextBlock Grid.Column="0" 
                          Text="{TemplateBinding Message}"
                          FontSize="{DynamicResource TextFontSize}"
                          HorizontalAlignment="Left"
                          TextWrapping="Wrap"
                          MaxLines="2"
                          Foreground="{DynamicResource MessageColor}">
               </TextBlock>
               <!--<Button Grid.Column="1"
                       Height="16"
                       Width="16"
                       HorizontalAlignment="Right"/> TODO: Add notifications-->
             </Grid>
            </StackPanel>
          </Grid>
      </ControlTemplate>
    </Setter>
  </ControlTheme>
</ResourceDictionary>